query serviceLogByServiceIdx($swsIdx: Int!, $serviceIdx: Int!, $before: String, $last: Int) {
	serviceLogsByServiceIdxConnection(swsIdx: $swsIdx, serviceIdx: $serviceIdx, before: $before, last: $last) {
		pageInfo {
			startCursor
			hasPreviousPage
		}
		edges {
			cursor
			node {
				... ServiceLogFragment
			}
		}
	}
}

query serviceLogsByServiceIdxConnection($swsIdx: Int!, $serviceIdx: Int!, $before: String, $last: Int) {
    serviceLogsByServiceIdxConnection(swsIdx: $swsIdx, serviceIdx: $serviceIdx, before: $before, last: $last) {
        pageInfo {
            startCursor
            hasPreviousPage
        }
        edges {
            cursor
            node {
                serviceLogIdx
                type
                updateAt
                user {
                    ... on UserError {
                        errorCode
                    }
                    ... on User {
                        id
                        userIdx
                        name
                        profileImageUrl
                        userSWSInfo(swsIdx: $swsIdx) {
                            ... on UserSWSInfoError {
                                errorCode
                            }
                            ... on UserSWSInfo {
                                id
                                userIdx
                                name
                                profileImageUrl
                            }
                        }
                    }
                }
                service {
                    ... on ServiceError {
                        errorCode
                    }
                    ... on Service {
                        id
                        serviceIdx
                        swsIdx
                        responseTimeout
                        retryTimeout
                        creatorUserIdx
                        status
                        previousStatus
                        mode
                        requestRobotAssignmentAt
                        robotAssignAt
                        createAt
                        updateAt
                        completeAt
                        serviceNum
                        creatorUser {
                            ... on UserError {
                                errorCode
                            }
                            ... on User {
                                id
                                userIdx
                                name
                                profileImageUrl
                                userSWSInfo(swsIdx: $swsIdx) {
                                    ... on UserSWSInfoError {
                                        errorCode
                                    }
                                    ... on UserSWSInfo {
                                        id
                                        userIdx
                                        name
                                        profileImageUrl
                                        groupsConnection(first: 1) {
                                            edges {
                                                node {
                                                    id
                                                    groupIdx
                                                    name
                                                    profileImageUrl
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        assignedRobot {
                            ... on RobotError {
                                errorCode
                            }
                            ... on RWSRobot {
                                id
                                name
                            }
                        }
                        serviceUnits {
                            serviceUnitIdx
                            serviceIdx
                            workerUserIdx
                            acceptorUserIdx
                            rejectorUserIdx
                            stopIdx
                            stopType
                            status
                            responseType
                            message
                            isBypass
                            isStopFixed
                            sortWeight
                            responseAt
                            createAt
                            updateAt
                            completeAt
                            targetType
                            amIRecipient

                            target {
                                ... on User {
                                    id
                                    userIdx
                                    name
                                    profileImageUrl
                                    userSWSInfo(swsIdx: $swsIdx) {
                                        ... on UserSWSInfoError {
                                            errorCode
                                        }
                                        ... on UserSWSInfo {
                                            id
                                            userIdx
                                            name
                                            profileImageUrl
                                            groupsConnection(first: 1) {
                                                edges {
                                                    node {
                                                        id
                                                        groupIdx
                                                        name
                                                        profileImageUrl
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                ... on Group {
                                    id
                                    groupIdx
                                    name
                                    profileImageUrl
                                }
                                ... on Stop {
                                    id
                                    stopIdx
                                    name
                                }
                            }

                            workerUser {
                                ... on UserError {
                                    errorCode
                                }
                                ... on User {
                                    id
                                    userIdx
                                    name
                                    profileImageUrl
                                }
                            }
                            
                            acceptors {
                                id
                                responseAt
                                responseType
                                serviceUnitIdx
                                userIdx
                                ... on ServiceUnitAcceptorUser {
                                    user {
                                        ... on UserError {
                                            errorCode
                                        }
                                        ... on User {
                                            id
                                            userIdx
                                            name
                                            profileImageUrl
                                            userSWSInfo(swsIdx: $swsIdx) {
                                                ... on UserSWSInfoError {
                                                    errorCode
                                                }
                                                ... on UserSWSInfo {
                                                    id
                                                    userIdx
                                                    name
                                                    profileImageUrl
                                                }
                                            }
                                        }
                                    }
                                }
                                ... on ServiceUnitAcceptorGroup {
                                    group {
                                        ... on GroupError {
                                            errorCode
                                        }
                                        ... on Group {
                                            id
                                            groupIdx
                                            name
                                            profileImageUrl
                                        }
                                    }
                                }
                            }

                            rejectorUsers {
                                id
                                userIdx
                                name
                                profileImageUrl
                            }

                            stop {
                                ... on StopError {
                                    errorCode
                                }
                                ... on Stop {
                                    id
                                    stopIdx
                                    name
                                }
                            }

                            freights {
                                id
                                type
                                name
                                quantity
                            }

                            recipients {
                                targetType
                                targetIdx
                                ... on ServiceUnitRecipientUser {
                                    user {
                                        ... on UserError {
                                            errorCode
                                        }
                                        ... on User {
                                            id
                                            userIdx
                                            name
                                            profileImageUrl
                                            userSWSInfo(swsIdx: $swsIdx) {
                                                ... on UserSWSInfoError {
                                                    errorCode
                                                }
                                                ... on UserSWSInfo {
                                                    id
                                                    userIdx
                                                    name
                                                    profileImageUrl
                                                    groupsConnection(first: 1) {
                                                        edges {
                                                            node {
                                                                id
                                                                groupIdx
                                                                name
                                                                profileImageUrl
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                ... on ServiceUnitRecipientGroup {
                                    group {
                                        ... on GroupError {
                                            errorCode
                                        }
                                        ... on Group {
                                            id
                                            groupIdx
                                            name
                                            profileImageUrl
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                serviceUnit {
                    ... on ServiceUnitError {
                        errorCode
                    }
                    ... on ServiceUnit {
                        id
                        serviceUnitIdx
                    }
                }
            }
        }
    }
}
