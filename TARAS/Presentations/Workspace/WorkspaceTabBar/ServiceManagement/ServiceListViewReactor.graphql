query receivedServices($swsIdx: Int!, $before: String, $last: Int) {
	receivedServicesConnection(swsIdx: $swsIdx, before: $before, last: $last) {
		pageInfo {
			startCursor
			hasPreviousPage
		}
		edges {
			cursor
			node {
				... ServiceFragment
			}
		}
	}
}

fragment ServiceFragment on Service {
	serviceIdx
	status
	serviceNum
	createAt
	assignedRobot {
		... on RWSRobot {
			... RobotFragment
		}
	}
	serviceUnits {
		... ServiceUnitFragment
	}
}

fragment ServiceUnitFragment on ServiceUnit {
	serviceUnitIdx
	status
	createAt
	stop {
		... on Stop {
			... StopFragment
		}
	}
	recipients {
		... on ServiceUnitRecipientUser {
			user {
				... on User {
					... UserFragment
				}
			}
		}
	}
	message
	station {
		... on Station {
			stationType
		}
	}
}

fragment StopFragment on Stop {
	stopIdx
	name
}

fragment RobotFragment on RWSRobot {
	id
	name
}

fragment ServiceLogFragment on ServiceLog {
	serviceLogIdx
	type
	errorStatus
	createAt
	user {
		... on User {
			... UserFragment
		}
	}
	serviceUnit {
		... on ServiceUnit {
			... ServiceUnitFragment
		}
	}
}
